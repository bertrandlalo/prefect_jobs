{% from 'macros.html' import content_or_error %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cardiac preprocessing report</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <!-- LiveJS: optional, for auto-update during development -->
  <script src="http://livejs.com/live.js"></script>
  <!-- plotly JS -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div class="jumbotron text-center">
  <h1>PPG pipeline report</h1>
</div>

<div class="container-fluid">

  <div class="row">
    <div class="col-sm-12">
      <h3>File details:</h3>
      {{ file_details | safe }}
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12 text-center">
      {{ content_or_error('Static preview', preview, preview_problems) }}
    </div>
  </div>

  <div class="row">
    <div class="col-sm-8 text-center">
      {{ content_or_error('Raw signal extract', raw_plot, raw_plot_problems) }}
    </div>
    <div class="col-sm-4 text-center">
      {{ content_or_error('Raw signal spectrum', raw_spectrum_plot, raw_spectrum_plot_problems) }}
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8 text-center">
      {{ content_or_error('Pre-processed signal extract',
                          preprocessed_signal_plot,
                          preprocessed_signal_plot_problems) }}
    </div>
    <div class="col-sm-4 text-center">
      {{ content_or_error('Preprocessed signal spectrum',
                          preprocessed_spectrum_plot,
                          preprocessed_spectrum_plot_problems) }}
    </div>
  </div>
  <div class="row">
    <div class="col-sm-8 text-center">
      {{ content_or_error('RR intervals and interpolated RR intervals (RRi)',
                          rr_signal_plot,
                          rr_signal_plot_problems) }}
    </div>
    <div class="col-sm-4 text-center">
      {{ content_or_error('RRi spectrum', rri_spectrum_plot, rri_spectrum_plot_problems) }}
    </div>
  </div>

  <footer class="page-footer text-center">
    <div class="footer-copyright">
      Automatic report generated by {{ generator }} on {{ date }}.
    </div>
  </footer>
</div>


</body>
</html>
